let currentShareData;self.addEventListener("fetch",async e=>{if("POST"!==e.request.method)return;if(!1===e.request.url.startsWith(SHARE_URL))return;await e.respondWith(self.Response.redirect(SHARE_REDIRECT_URL,303));const t=await e.request.formData(),r=t.get("title"),a=t.get("description"),s=t.get("link"),i=t.get("file");currentShareData={title:r,description:a,link:s,file:i}}),self.addEventListener("message",e=>{if("receive_wp_share_target_share"!==e.data.action)return;if(!e.source||e.source.url!==SHARE_REDIRECT_URL)return;if(!currentShareData)return;const t={action:"wp_share_target_share",...currentShareData};currentShareData=void 0,e.source.postMessage(t)});